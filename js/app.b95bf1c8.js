(function(e){function t(t){for(var n,s,o=t[0],c=t[1],u=t[2],p=0,m=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/deploiement/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0127":function(e,t,r){},"034f":function(e,t,r){"use strict";r("0127")},"45c6":function(e,t,r){"use strict";(function(e){r("063a"),r("e2c0"),r("bcee"),r("e4bd"),r("b900");function n(t){var r=t.split(".")[1],n=e.from(r,"base64");return JSON.parse(n.toString())}function a(e){return n(e).exp}function i(e){return n(e).sub}function s(e){var t=n(e).exp;return!(Date.now()>=1e3*t)}t["a"]={decrypt:n,isAlive:s,getUserId:i,getExpiration:a}}).call(this,r("257d").Buffer)},"56d7":function(e,t,r){"use strict";r.r(t);r("5675"),r("58c3"),r("59f3"),r("3e3e");var n=r("d04a"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:""}},[r("NavigationBar")],1),r("router-view")],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark"},[r("div",{staticClass:"navbar-nav mr-auto"},[r("router-link",{staticClass:"nav-link d-inline-block",class:{active:"Home"==e.$route.name},attrs:{to:{name:"Home"}}},[e._v("Accueil")])],1),r("div",{staticClass:"navbar-nav ml-auto"},[e.isLoggedIn?r("b-link",{staticClass:"nav-link d-inline-block",on:{click:e.logout}},[e._v(" Se déconnecter ")]):r("div",[r("router-link",{staticClass:"nav-link d-inline-block",class:{active:"Login"==e.$route.name},attrs:{to:{name:"Login"}}},[e._v(" Connexion ")]),r("router-link",{staticClass:"nav-link d-inline-block",class:{active:"Register"==e.$route.name},attrs:{to:{name:"Register"}}},[e._v(" Register ")])],1)],1)])},o=[],c={computed:{isLoggedIn:function(){return this.$store.getters["authentication/isLoggedIn"]}},methods:{logout:function(){this.$store.dispatch("authentication/logout"),this.$router.push({name:"Login"})}}},u=c,l=r("bdd7"),p=Object(l["a"])(u,s,o,!1,null,null,null),m=p.exports,d={name:"App",components:{NavigationBar:m}},f=d,g=(r("034f"),Object(l["a"])(f,a,i,!1,null,null,null)),h=g.exports,v=r("dc3b"),k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home mt-3"},[r("div",{attrs:{id:"heart"},on:{click:e.like}},[e.hasBeenLiked?r("i",{staticClass:"fa-solid fa-heart fa-4x"}):r("i",{staticClass:"fa-regular fa-heart fa-4x"})]),r("p",[e._v(e._s(e.getLikesForTrail))]),r("Span",{staticClass:"text-danger"},[e._v(e._s(e.Error))]),r("Span",{staticClass:"text-danger"},[e._v(e._s(e.error2))]),r("Map")],1)},b=[],w=r("c452"),x=(r("8351"),r("34ac"),r("bcee"),r("833b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"map"},[r("p",{staticClass:"w-100 text-center"},[e._v(" Parc "+e._s(e.currentTrail.park)+" - Chemin "+e._s(e.currentTrail.name)+" ")]),r("div",{staticClass:"container w-25 mr-5 d-inline-block align-top"},[r("select",{staticClass:"w-100",attrs:{name:"parks",id:"parks"},on:{change:function(t){return e.changeCurrentPark(t.target.value)}}},e._l(e.parks,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),r("select",{staticClass:"w-100 mt-5",attrs:{name:"trails",id:"trails",multiple:"",size:"8"},on:{change:function(t){return e.changeCurrentTrailById(t.target.value)}}},e._l(e.currentParkTrails,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"container w-50 d-inline-block"},[r("l-map",{staticStyle:{height:"400px"},attrs:{zoom:e.zoom,center:e.center,options:e.mapOptions},on:{"update:center":e.centerUpdate,"update:zoom":e.zoomUpdate}},[r("l-tile-layer",{attrs:{url:e.url,attribution:e.attribution}}),e._l(e.currentTrailSegments,(function(t){return r("l-polyline",{key:t.id,attrs:{"lat-lngs":t.coordinates,color:e.manageSegmentColor(t.level)}})}))],2)],1)])}),y=[],S=(r("0e78"),r("6bd8"),r("e687"),r("e128"),r("cde7"),r("9b4d")),E=r.n(S),T=r("608b"),L=r("e0fd"),C=r("5976"),_={name:"Example",components:{LMap:T["a"],LTileLayer:L["a"],LPolyline:C["a"]},data:function(){return{zoom:13,center:[49,-62],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',currentZoom:11.5,currentCenter:Object(S["latLng"])(49,-62),showParagraph:!1,mapOptions:{zoomSnap:.5},polyline:{latlngs:[],color:"black"},parks:[],trails:[],segments:[],currentParkId:null,currentParkTrails:[],currentTrail:null,currentTrailSegments:[]}},methods:{zoomUpdate:function(e){this.currentZoom=e},centerUpdate:function(e){this.currentCenter=e},filterTrailsByPark:function(e){return this.trails.filter((function(t){return t.parkId===e}))},filterSegmentsByTrail:function(e){return this.segments.filter((function(t){return e.segments.includes(t.id)}))},changeCurrentPark:function(e){this.currentParkId=e,this.currentParkTrails=this.filterTrailsByPark(this.currentParkId),this.currentParkTrails.length>0&&this.changeCurrentTrail(this.currentParkTrails[0])},changeCurrentTrailById:function(e){this.$store.commit("map/setCurrentTrailId",Number(e));var t=this.trails.filter((function(t){return t.id===Number(e)}))[0];this.changeCurrentTrail(t)},changeCurrentTrail:function(e){this.currentTrail=e,this.currentTrailSegments=this.filterSegmentsByTrail(this.currentTrail),this.center=this.currentTrailSegments[0].coordinates[0]},manageSegmentColor:function(e){return console.log(e),"Facile"===e?"green":"Intermédiaire"===e?"blue":"Difficile"===e?"orange":"Très difficile"===e?"red":"black"},sortTrails:function(e,t){return e.name<t.name?-1:1}},created:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("map/getParks");case 2:return t.next=4,e.$store.dispatch("map/getTrails");case 4:return t.next=6,e.$store.dispatch("map/getSegments");case 6:e.mapServiceError||(e.parks=e.$store.state.map.parks,e.trails=e.$store.state.map.trails.sort(e.sortTrails),e.segments=e.$store.state.map.segments,e.changeCurrentPark(e.parks[0].id));case 7:case"end":return t.stop()}}),t)})))()},computed:{mapServiceError:function(){return this.$store.state.map.authServiceError}}},R=_,$=Object(l["a"])(R,x,y,!1,null,null,null),O=$.exports,I={name:"Home",components:{Map:O},created:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("authentication/clearError"),e.$store.commit("likes/clearError"),t.next=4,e.$store.dispatch("likes/getLikes");case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{Error:""}},methods:{like:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoggedIn()){t.next=13;break}if(e.hasBeenLiked){t.next=6;break}return t.next=4,e.$store.dispatch("likes/addLike",{userId:e.$store.getters["authentication/getTokenUserId"],trailId:e.$store.getters["map/getCurrentTrailId"],id:e.$store.getters["likes/getNextLikeId"]});case 4:t.next=8;break;case 6:return t.next=8,e.$store.dispatch("likes/deleteLike",Number(e.getLikeId()));case 8:return t.next=10,e.$store.dispatch("likes/getLikes");case 10:e.Error="",t.next=14;break;case 13:e.Error="Connectez-vous pour acceder à cette fonctionnalité";case 14:case"end":return t.stop()}}),t)})))()},getLikeId:function(){var e=this,t=this.$store.getters["likes/getLikes"];return t=t.filter((function(t){return t.trailId===e.$store.getters["map/getCurrentTrailId"]})).filter((function(t){return t.userId===e.$store.getters["authentication/getTokenUserId"]})),t[0].id},isLoggedIn:function(){return this.$store.getters["authentication/isLoggedIn"]}},computed:{authServiceError:function(){return this.$store.state.authentication.authServiceError},hasBeenLiked:function(){var e=this;if(this.isLoggedIn()){var t=this.$store.getters["likes/getLikes"];return t.filter((function(t){return t.trailId===e.$store.getters["map/getCurrentTrailId"]})).filter((function(t){return t.userId===e.$store.getters["authentication/getTokenUserId"]})).length>0}return!1},getLikesForTrail:function(){var e=this,t=this.$store.getters["likes/getLikes"];return t.filter((function(t){return t.trailId===e.$store.getters["map/getCurrentTrailId"]})).length},error2:function(){return this.$store.getters["likes/getServiceError"]}}},j=I,P=Object(l["a"])(j,k,b,!1,null,null,null),z=P.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("b-form",{staticClass:"container w-75 mt-5",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[r("h1",[e._v("Connexion")]),r("label",{staticClass:" mt-3",attrs:{for:"email"}},[e._v("Adresse Courriel")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"courriel@courriel.com",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),r("label",{staticClass:" mt-3",attrs:{for:"pass"}},[e._v("Mot de passe")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",id:"pass"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("button",{staticClass:"btn btn-primary mt-3",attrs:{type:"submit"}},[e._v(" Se connecter ")]),r("p",{staticClass:"mt-2 text-primary",on:{click:function(t){return e.ToRegister()}}},[e._v("Créer un compte")])])],1)},U=[],A={name:"Login",created:function(){this.$store.commit("authentication/clearError")},data:function(){return{email:"",password:""}},methods:{login:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("authentication/login",{email:e.email,password:e.password});case 2:e.authServiceError||e.$router.push({name:"Home"});case 3:case"end":return t.stop()}}),t)})))()},ToRegister:function(){this.authServiceError||this.$router.push({name:"Register"})}},computed:{authServiceError:function(){return this.$store.state.authentication.authServiceError}}},B=A,N=Object(l["a"])(B,M,U,!1,null,null,null),q=N.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[r("h1",[e._v("Creation de compte")]),r("label",[e._v("Nom")]),r("b-form-input",{attrs:{required:"",type:"text","data-test":"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("label",[e._v("Courriel")]),r("b-form-input",{attrs:{required:"",type:"text","data-test":"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("label",[e._v("Mot de passe")]),r("b-form-input",{attrs:{required:"",type:"password","data-test":"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("b-button",{staticClass:"mt-4",attrs:{variant:"primary",type:"submit","data-test":"register",id:"buttonRegister"}},[e._v("Se registrer")])],1),e.authServiceError?r("div",{attrs:{"data-test":"error",id:"errorMessage"}},[e._v(" "+e._s(e.authServiceError)+" ")]):e._e()],1)],1)},H=[],F={created:function(){this.$store.commit("authentication/clearError")},data:function(){return{email:"",password:"",name:""}},methods:{register:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("authentication/register",{email:e.email,password:e.password,name:e.name});case 2:e.authServiceError||e.$router.push({name:"Home"});case 3:case"end":return t.stop()}}),t)})))()}},computed:{authServiceError:function(){return this.$store.state.authentication.authServiceError}}},J=F,Z=Object(l["a"])(J,D,H,!1,null,null,null),G=Z.exports,K=[{path:"/",name:"Home",component:z},{path:"/login",name:"Login",component:q,meta:{authPage:!0}},{path:"/register",name:"Register",component:G,meta:{authPage:!0}}],Q=r("6c71"),V="https://tp3-api.herokuapp.com",W=r("8aad"),X=r.n(W),Y=r("5a19"),ee=r("5d80"),te=r("7946"),re=r("a927"),ne=r("e0e0"),ae=(r("bfa3"),function(e){Object(te["a"])(r,e);var t=Object(re["a"])(r);function r(e,n,a){var i;return Object(ee["a"])(this,r),i=t.call(this,e),i.codeText=n,i.code=a,i}return Object(Y["a"])(r)}(Object(ne["a"])(Error)));function ie(e){if(se(e)){var t=new ae("Erreur avec le réseau. Impossible de communiquer avec le serveur.");return t}var r=new ae(e.response.data,e.response.statusText,e.response.status);return r}function se(e){return!!e.isAxiosError&&!e.response}function oe(e){return ce.apply(this,arguments)}function ce(){return ce=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.post("".concat(V,"/login"),{email:t.email,password:t.password});case 3:return r=e.sent,n=r.data.accessToken,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),ce.apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return le=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.post("".concat(V,"/register"),{email:t.email,password:t.password,name:t.name});case 3:return r=e.sent,n=r.data.accessToken,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),ie(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),le.apply(this,arguments)}var pe={getToken:oe,register:ue},me=r("45c6"),de={token:"",authServiceError:""},fe={isLoggedIn:function(e){return!!e.token},getTokenUserId:function(e){var t=me["a"].getUserId(e.token);return t}},ge={clearError:function(e){e.authServiceError=""},initializeAuthentication:function(e,t){e.token=t,e.authServiceError=""},logout:function(e){e.token=""},setAuthServiceError:function(e,t){e.authServiceError=t}},he={login:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,pe.getToken(t);case 4:a=r.sent,n("initializeAuthentication",a),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),n("setAuthServiceError",r.t0.message);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},register:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,pe.register(t);case 4:a=r.sent,n("initializeAuthentication",a),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),n("setAuthServiceError",r.t0.message);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},logout:function(e){var t=e.commit;t("logout")}},ve={namespaced:!0,state:de,actions:he,mutations:ge,getters:fe},ke=X.a.create({});ke.interceptors.request.use((function(e){return Fe.getters["authentication/isLoggedIn"]&&(e.headers.authorization="Bearer ".concat(Fe.state.authentication.token)),e}));var be=ke;function we(){return xe.apply(this,arguments)}function xe(){return xe=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("".concat(V,"/trails/"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),xe.apply(this,arguments)}function ye(){return Se.apply(this,arguments)}function Se(){return Se=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("".concat(V,"/parks/"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Se.apply(this,arguments)}function Ee(){return Te.apply(this,arguments)}function Te(){return Te=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("".concat(V,"/segments/"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Te.apply(this,arguments)}var Le={getTrails:we,getParks:ye,getSegments:Ee},Ce={mapServiceError:"",currentTrailId:20,parks:[],trails:[],segments:[]},_e={getCurrentTrailId:function(e){return e.currentTrailId}},Re={clearError:function(e){e.mapServiceError=""},initializeParks:function(e,t){e.parks=t,e.mapServiceError=""},initializeTrails:function(e,t){e.trails=t,e.mapServiceError=""},initializeSegments:function(e,t){e.segments=t,e.mapServiceError=""},setMapServiceError:function(e,t){e.mapServiceError=t},setCurrentTrailId:function(e,t){e.currentTrailId=t}},$e={getParks:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Le.getParks();case 4:n=t.sent,r("initializeParks",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),r("setMapServiceError",t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getTrails:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Le.getTrails();case 4:n=t.sent,r("initializeTrails",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),r("setMapServiceError",t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getSegments:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Le.getSegments();case 4:n=t.sent,r("initializeSegments",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),r("setMapServiceError",t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}},Oe={namespaced:!0,state:Ce,actions:$e,mutations:Re,getters:_e};r("351c");function Ie(e){return je.apply(this,arguments)}function je(){return je=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.post("".concat(V,"/likes/"),t);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),je.apply(this,arguments)}function Pe(e,t){return ze.apply(this,arguments)}function ze(){return ze=Object(w["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.delete("".concat(V,"/likes/").concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ze.apply(this,arguments)}function Me(){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("".concat(V,"/likes/"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ue.apply(this,arguments)}var Ae={addLike:Ie,deleteLike:Pe,getLikes:Me},Be={likes:[],serviceError:""},Ne={getLikes:function(e){return e.likes},getServiceError:function(e){return e.serviceError},getNextId:function(e){return e.likes[Number(e.likes.lenght-1)].id}},qe={clearError:function(e){e.serviceError=""},setLikes:function(e,t){e.likes=t},setLikeServiceError:function(e,t){e.serviceError=t}},De={getLikes:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Ae.getLikes();case 4:n=t.sent,r("setLikes",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),r("setLikeServiceError",t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},addLike:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,Ae.addLike(t);case 4:return r.next=6,Ae.getLikes();case 6:a=r.sent,n("setLikes",a),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),n("setLikeServiceError",r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},deleteLike:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,Ae.deleteLike(t);case 4:return r.next=6,Ae.getLikes();case 6:a=r.sent,n("setLikes",a),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),n("setLikeServiceError",r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()}},He={namespaced:!0,state:Be,actions:De,mutations:qe,getters:Ne};n["default"].use(Q["a"]);var Fe=new Q["a"].Store({modules:{authentication:ve,map:Oe,likes:He}});n["default"].use(v["a"]);var Je=new v["a"]({mode:"history",base:"/deploiement/",routes:K});Je.beforeEach((function(e,t,r){e.meta.requiresAuth&&!Fe.getters["authentication/isLoggedIn"]?r({name:"Login",query:{redirect:e.path}}):r()}));var Ze=Je,Ge=r("d422"),Ke=r("8472"),Qe=(r("5f3e"),r("41cf"),{welcomeMessage:"Allo tout le monde !",install:function(e){e.prototype.$getUiText=function(e){return Qe[e]}}}),Ve=Qe;r("9a6e");delete E.a.Icon.Default.prototype._getIconUrl,E.a.Icon.Default.mergeOptions({iconRetinaUrl:r("a741"),iconUrl:r("843f"),shadowUrl:r("9021")}),n["default"].use(Ge["a"]),n["default"].use(Ke["a"]),n["default"].use(Ve),n["default"].config.productionTip=!1,new n["default"]({router:Ze,store:Fe,render:function(e){return e(h)}}).$mount("#app")}});
//# sourceMappingURL=app.b95bf1c8.js.map